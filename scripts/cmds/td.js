const truthList = [ "তুমি জীবনে সবচেয়ে বেশি কাকে বিশ্বাস করো?", "তুমি কি কখনো কাউকে ঠকিয়েছো?", "তোমার জীবনের সবচেয়ে লজ্জার মুহূর্ত কোনটা?", "তোমার ক্রাশের নাম কী?", "তুমি কি এখনো কারো প্রেমে আছো?", "তুমি কখনও কাউকে লুকিয়ে পছন্দ করেছো?", "তুমি কারও প্রেমে পড়ে গিয়েও কিছু বলতে পারোনি?", "নিজের সম্পর্কে এমন একটা জিনিস বলো যা সবাই জানে না।", "কার সঙ্গে এখন প্রেম করতে ইচ্ছা করে?", "তুমি এখন কাকে সবচেয়ে বেশি মিস করো?", "যদি কাউকে একবার সময়ের চাকা ঘুরিয়ে ফেরাতে পারতে, কাকে দেখতে যেতে?", "তুমি কি জেনে-বুঝে কারো মন ভেঙেছো?", "এমন কিছু বলো যা কাউকে কখনো বলোনি।", "তোমার জীবনে সবচেয়ে ভয়ংকর মুহূর্ত কোনটা ছিল?", "তুমি কি কখনো কারো প্রেমে ধোঁকা খেয়েছো?", "তোমার সবচেয়ে অদ্ভুত অভ্যাস কী?", "তোমার জীবনের সবচেয়ে বড় মিথ্যা কী ছিল?", "তুমি কি কখনো বাথরুমে গান গেয়ে কান্না করেছো?", "তোমার সবচেয়ে অদ্ভুত ক্রাশ কে ছিল?", "কাউকে দেখে “ভালোবাসি” বলার ৫ সেকেন্ড পরেই পছন্দ বদলে ফেলছো কখনো?", "বাচ্চাকালে তুমি কী হতে চাও বলতে গিয়ে কখনো 'গরু' বলছো?", "তুমি কি এখনো কার্টুন দেখে হাসো?", "কোন বন্ধুর সামনে পেট ফুলে বেলুন বানিয়েছিলে?", "এমন কিছু খেয়েছো যেটা পরে জেনেছো সেটা মানুষের খাবারই না?", "সবথেকে বাজে পোশাক পরে কোথায় গেছো?", "নিজের ফোনে নিজের ছবি দেখে লজ্জা পেয়েছো কখনো?", "কি এমন কাজ করছো যেটা কেউ জানলে হাসতে হাসতে পাগল হয়ে যাবে?", "সবচেয়ে বাজে 'ফ্রেন্ড' কে? আর কেন?", "কার সাথে আর কখনো কথা বলতেও রাজি না?", "কার প্রেমে পড়ে তুমি নিজের মানসম্মান হারিয়েছিলে?", "কোনো বন্ধুর পিছনে কথা বলছো কিন্তু সামনাসামনি সাহস পাও না?", "কাউকে block দিয়ে পরে unblock করেছো?", "কার সাথে কথা বলতে গিয়ে acting করো?", "সবথেকে মিথ্যে কথা কী বলেছো?", "কাউকে Impress করতে গিয়ে বেকুব হয়েছো কখনো?", "কার সাথে শুধু টাইম পাস করো, সিরিয়াস কিছু না?", "তুমি কি কাউকে ব্যবহার করছো?", "তুমি এখন কাকে মিস করো?", "লাস্ট কবে তুমি কারো চোখে চোখ রেখে হাসছো?", "কাউকে দেখে মনে হয়েছে “এটাই আমার বউ/স্বামী”?", "প্রেমে পড়ে কাঁদছো কবে?", "কার জন্য এখনো মনে মনে জায়গা রেখেছো?", "তোমার সবথেকে সুন্দর রোমান্টিক মেমোরি কী?", "প্রথম চুমু কখন? কার সাথে?", "কার জন্য এখনো গান শোনো?", "যদি একটা রাত কারো সাথে কাটাতে বলা হয়, কার নাম বলবে?", "তোমার ক্রাশ এখনো জানে না যে তুমি ওকে পছন্দ করো—তাই তো?", "কার জন্য তুমি তোমার DP পাল্টাও?", "late night call গুলো এখনো মিস করো?", "প্রেমের নাটক করে কেউকে জেতাতে চেয়েছো?", "তোমার Ex যদি আবার আসতে চায়, তুমি কী করবে?", "একটা crush আছে যার নাম কাউকে এখনো বলোনি?", "তুমি কি কখনো হাই দিতে গিয়ে হাঁচি দিয়ে ফেলেছো?", "পছন্দের মানুষের সামনে পেটের শব্দ বের হয়ে গেছিলো কখনো?", "চুপি চুপি গন্ধ বের করে তারপর নিজেই নাকে হাত দিয়েছো?", "নিজের ভুলে নিজের নাম ভুল বলে ফেলছো কখনো?", "কাউকে দেখে সেলফি তুলতে গিয়ে ক্যামেরা উল্টা করে নিজের মুখ দেখে ভয় পেয়েছো?", "স্কুলে কারো নামে প্রেমপত্র লিখে ভুল ব্যাগে দিয়ে দিয়েছিলে?", "বাচ্চা থাকতে কারও চামচ চুরি করে খেয়েছো?", "মাথায় তেল দিয়ে romantic look দিতে গিয়ে একেবারে পেঁয়াজের মতো দেখিয়েছিলো?", "ঘুম থেকে উঠে আয়নাতে নিজেকে দেখে ভয় পেয়ে গেছো?", "জোরে হাসতে গিয়ে হাঁচি বের হয়ে গেছিলো কখনো?", "কারও প্রেমে পড়ে তাকে মেসেজ না দিয়ে গুগলে নাম খুঁজেছো?", "বন্ধুর বিয়েতে খেতে গিয়ে ৩ বারের বেশি ভাত নিয়েছো?", "প্রেমের গল্প বানিয়ে কাউকে Impress করতে গিয়ে ধরা খেয়েছো?", "নিজেকে হিরো ভেবে প্যান্ট ছিঁড়ে ফেলছো?", ];

const dareList = [ "১০টা পুশ-আপ করো এবং ভিডিও পাঠাও।", "নিজের একটা বোকামি কথা সবাইকে বলো।", "একজনকে কল দিয়ে বলো ‘আমি তোমাকে পছন্দ করি’।", "গ্রুপে জোরে করে ‘আমি পাগল’ বলো।", "তোমার শেষ চ্যাটের স্ক্রিনশট দাও।", "তোর পাশের জনকে দেখে ১০ সেকেন্ডে প্রেমে পড়ার অভিনয় করো", "মোবাইলের গুগল অ্যাসিস্ট্যান্টকে বলে ওঠ – আমি একা, আমায় প্রেম দে", "চেয়ারকে জড়িয়ে ধরে বল – তুই ছাড়া আমি বাঁচবো না", "নিজেকে আয়নায় দেখে ৫ সেকেন্ড ধরে নিজের গালে চুমু দাও", "৫ সেকেন্ডে একটা গরুর মতো ডাক দাও", "তোমার ফোনের গ্যালারির প্রথম ছবি সবাইকে দেখাও", "পাঁচটা প্রেমের ডায়লগ বলো, কিন্তু মুরগির গলায়", "একটা বালিশকে জড়িয়ে ধরে প্রেমের প্রপোজ দাও", "মাটিতে বসে বলো – আমি আজ থেকে একটা বেগুন", "১০ সেকেন্ড ধরে নিজের পেটে কথা বলো, ওটাকে Baby বলে ডাকো", "সবার সামনে দাঁড়িয়ে বলো – আমি জানে মন থেকে বাঁদর", "তুমি এখন একটা রোবট, ৩০ সেকেন্ড রোবটের মতো হেঁটো", "নিজের গলার সুরে জাতীয় সংগীত গাও, কিন্তু বিটবক্স স্টাইলে", "চোখ বন্ধ করে প্রেমে পড়ার অভিনয় করো, হঠাৎ চিৎকার করে বলো – উফ! ভুল মানুষ", "নিজের কানে নিজেই ভালোবাসার কথা বলো", "তোমার ক্রাশের নাম তিনবার গুনগুনিয়ে গাও", "১০ সেকেন্ড ধরে হাসতে হবে, কিন্তু মুখে হাত দিয়ে", "জানালা খুলে জোরে বলো – কে আমায় ভালোবাসে", "তুমি এখন প্রেমে পড়া হাঁস — একটু হাঁটো আর আওয়াজ করো", "নিজের পা ধরে বলো – আমি তোকে ছাড়া এক কদমও হাঁটবো না", "মোবাইলের সামনে দাঁড়িয়ে বলো – আমার সৌন্দর্যে আমি নিজেই হেরে গেছি", "জুতাকে জড়িয়ে ধরে বলো – তুই আমার soulmate", "নিজের shadow-কে ৫ সেকেন্ড ধরে প্রেমে প্রপোজ দাও", "চুল উল্টে selfie তোলো আর বলো – আমি আজ crush মারবো", ];

const waitingForReply = new Map();

module.exports = {
  config: {
    name: "td",
    aliases: [],
    author: "T A N J I L",
    version: "1.0",
    cooldowns: 5,
    role: 0,
    shortDescription: {
      en: "Play Truth and Dare"
    },
    longDescription: {
      en: "Initiates a game of Truth and Dare"
    },
    category: "fun",
    guide: {
      en: "{p}td"
    }
  },

  onStart: async function ({ api, event }) {
    const { threadID, senderID } = event;
    waitingForReply.set(senderID, threadID);
    await api.sendMessage("Choose: Truth or Dare?", threadID);
  },

  onChat: async function ({ api, event }) {
    const { senderID, body, threadID } = event;

    if (!waitingForReply.has(senderID)) return;

    const answer = body.trim().toLowerCase();

    if (answer === "truth") {
      const question = truthList[Math.floor(Math.random() * truthList.length)];
      await api.sendMessage(`Your Truth: ${question}`, threadID);
      waitingForReply.delete(senderID);
    } else if (answer === "dare") {
      const task = dareList[Math.floor(Math.random() * dareList.length)];
      await api.sendMessage(`Your Dare: ${task}`, threadID);
      waitingForReply.delete(senderID);
    } else {
      await api.sendMessage("Please reply with either 'Truth' or 'Dare'.", threadID);
    }
  }
};
